<!DOCTYPE html>
<html>
  <head>
    <title>EMF-REST Demo</title>   
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/bootstrap.css" rel="stylesheet" media="screen">
    <link href="css/bootstrap-theme.css" rel="stylesheet" media="screen">
    <link href="css/style.css" rel="stylesheet" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Roboto:700' rel='stylesheet' type='text/css'>
    <script>
    var callResponse = function(data){
      var jsonPretty = JSON.stringify(data,null,2);  
      $('#resultBox').val(jsonPretty);
    }

    var printResponse = function(data){
      var jsonPretty = JSON.stringify(data,null,2);  
      $('#resultBoxJS').val(jsonPretty);
    }
    </script>
  </head>
  <!-- The embedded style is for fixing spaces with navbar -->
  <body style="padding-top: 50px;">
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery-1.10.2.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script src="http://emf-rest.com:8080/Demo/scripts/api.js"></script>

    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <img style="float: left; padding-right: 10px; padding-top: 10px;" src="img/emf-restIconSmall.png"/>
        <a class="navbar-brand" href="index.html">EMF-REST</a>
      </div>
      <div class="collapse navbar-collapse navbar-ex1-collapse">
        <ul class="nav navbar-nav">
          <li><a href="example.html">Example</a></li>
          <li><a href="demo.html">Live Demo</a></li>
          <li><a href="documentation.html">Documentation</a></li>
          <li><a href="contact.html">Contact us</a></li>
        </ul>
        <ul class="pull-right">
          <li>
            <button type="button" class="btn btn-default btn-sm" onClick="location.href='https://github.com/jlcanovas/emf-rest'">
              <img src="img/glyphicons_social_21_github.png"> View on Github
            </button>
          </li>
        </ul>
      </div>
    </div>
    </nav>

  	<div class="container">
  	<div class="row">
  	<div class="col-md-9">

  	<h3>Live Demo</h3>

    <h4>The REST API for the Simpsons family</h4>
  	
    <p>Here you can try the REST API generated for the  <a href="Example.html">Simpsons example</a>. These are some examples:</p>

    <ul>
      <li>http://emf-rest.com:8080/Demo/app/Family/Simpsons</li>
      <li>http://emf-rest.com:8080/Demo/app/Family/Simpsons/sons</li>
      <li>http://emf-rest.com:8080/Demo/app/Family/Simpsons/pets</li>
    </ul>

    <p>Complete the text box and click on <em>Launch</em> to see what happens! </p>

    <form role="form">
    <div class="form-group">
      <div class="row">
      <div class="col-md-10">
        <div class="input-group">
          <span class="input-group-addon">http://emf-rest.com:8080/Demo/app/Family/Simpsons/</span>
          <input id="call" type="text" class="form-control" placeholder="sons">
        </div> <!-- input-group>-->
      </div> <!-- col-md-10 -->

      <div class="col-md-2">
        <button class="btn btn-default btn-block" onclick="RestApi.callGet('http://emf-rest.com:8080/Demo/app/Family/Simpsons/' + document.getElementById('call').value,callResponse); return false;">Launch</button>
      </div> <!-- col-md-2 -->
      </div>
    </div> <!-- form-group -->
    </form>

    <h5>Result:</h5>
    <div class="form-group">
      <textarea id="resultBox" class="form-control" rows="10"></textarea>
    </div> 
  	
    <h4>The JavaScript API</h4>

    <p>If you prefer to play with the JavaScript API generated for the <a href="Example.html">Simpsons example</a>, here you are a first example accessing the root element of the Simpsons family. Feel free to edit the code and see what happens!</p>

    <form role="form">
    <div class="form-group">
      <div class="row">
      <div class="col-md-10">
        <textarea id="inputJS" class="form-control" rows="9">
var family = new Family('http://demo.emf-rest.com/Demo/app/s', 'Simpsons');
var myFailCallback = function(problem) {
  alert('Error executing the request');
};

// Use the function callback called 'printResponse' to show the result 
// int the box below
RestApi.callGet(family.url, printResponse, 1, myFailCallback);
        </textarea>
      </div> <!-- col-md-10 -->

      <div class="col-md-2">
        <button class="btn btn-default btn-block" onclick="eval(document.getElementById('inputJS').value)">Launch</button>
      </div> <!-- col-md-2 -->
      </div>
    </div> <!-- form-group -->
    </form>

    <h5>Result:</h5>
    <div class="form-group">
      <textarea id="resultBoxJS" class="form-control" rows="10"></textarea>
    </div> 

    </div>



  	<div class="col-md-3">
    <h2>&nbsp;</h2>
    <button type="button" class="btn btn-default btn-lg btn-block" onClick="location.href='install.html'">
        Install EMF-REST
    </button>
    </div> <!-- /.col-md-3 -->

  	</div>
  	</div>

    <!--<footer>
    <div class="container">
    <p class="text-center"><small>EMF-REST is a tool that allows the generation of Truly RESTFul APIs from Ecore models</small> </p>

    <p class="text-center"><small>Code licensed under the <a href="http://www.eclipse.org/legal/epl-v10.html">Eclipse Public License</a>. Documentation licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.</small></p>
    </div>
    </footer>-->
	
  	<script type="text/javascript">
     	try {
        	var pageTracker = _gat._getTracker("UA-43282342-2");
            pageTracker._trackPageview();
        } catch(err) {}
    </script>
	</body>
</html>
